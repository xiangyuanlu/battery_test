(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-a49c4f8a"],{"0afd":function(t,e,a){},"2a97":function(t,e,a){"use strict";var s=a("0afd");a.n(s).a},"87b3":function(t,e,a){"use strict";a.r(e);var s,i,r,o=a("7618"),n=(a("c5f6"),a("ac6a"),a("456d"),a("96cf"),a("3b8d")),m=a("9923"),c={1:m.a.t("timeZoom1"),2:m.a.t("timeZoom2"),3:m.a.t("timeZoom3"),4:m.a.t("timeZoom4"),5:m.a.t("timeZoom5"),6:m.a.t("timeZoom6"),7:m.a.t("timeZoom7"),8:m.a.t("timeZoom8"),9:m.a.t("timeZoom9"),10:m.a.t("timeZoom10"),11:m.a.t("timeZoom11"),12:m.a.t("timeZoom12"),13:m.a.t("timeZoom13"),14:m.a.t("timeZoom14"),15:m.a.t("timeZoom15"),16:m.a.t("timeZoom16"),17:m.a.t("timeZoom17"),18:m.a.t("timeZoom18"),19:m.a.t("timeZoom19"),20:m.a.t("timeZoom20"),21:m.a.t("timeZoom21"),22:m.a.t("timeZoom22"),23:m.a.t("timeZoom23"),24:m.a.t("timeZoom24"),25:m.a.t("timeZoom25"),26:m.a.t("timeZoom26"),27:m.a.t("timeZoom27"),28:m.a.t("timeZoom28"),29:m.a.t("timeZoom29"),30:m.a.t("timeZoom30"),31:m.a.t("timeZoom31"),32:m.a.t("timeZoom32"),33:m.a.t("timeZoom33"),34:m.a.t("timeZoom34"),35:m.a.t("timeZoom35"),36:m.a.t("timeZoom36"),37:m.a.t("timeZoom37"),38:m.a.t("timeZoom38"),39:m.a.t("timeZoom39"),40:m.a.t("timeZoom40"),41:m.a.t("timeZoom41"),42:m.a.t("timeZoom42"),43:m.a.t("timeZoom43"),44:m.a.t("timeZoom44"),45:m.a.t("timeZoom45"),46:m.a.t("timeZoom46"),47:m.a.t("timeZoom47"),48:m.a.t("timeZoom48"),49:m.a.t("timeZoom49"),50:m.a.t("timeZoom50"),51:m.a.t("timeZoom51")},u=a("5a0c"),l=a.n(u),d={name:"time-setting-box",data:function(){return{current_time:null,current_zone:"",auto_update:!1,update_status:0,time_server:"",last_update_time:"",zones:[],currentTab:"1",loading:!1}},mounted:(r=Object(n.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.zones=Object.keys(c).map((function(t){return{label:c[t],value:t+""}})),t.next=3,this.$store.dispatch("system/getSystemTimeInfo");case 3:(e=t.sent)&&this.init(e);case 5:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)}),methods:{init:function(t){this.current_time=t.current_time,this.current_zone=t.time_zone+"",this.auto_update=t.auto_update,this.update_status=+t.update_status,this.time_server=t.time_server,this.last_update_time=t.last_update_time},setServer:(i=Object(n.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.time_server){t.next=3;break}return this.$message({type:"error",message:this.$t("enterServerAddress")}),t.abrupt("return");case 3:if(/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/.test(this.time_server)){t.next=8;break}return this.$message({type:"error",message:this.$t("errorServerAddressTips")}),t.abrupt("return");case 8:return e={time_server:this.time_server,auto_update:!!this.auto_update,now_update:!0},t.next=11,this.$store.dispatch("system/immediate",e);case 11:if(!t.sent){t.next=13;break}this.$message({type:"success",message:this.$t("updated")});case 13:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)}),handleSuccess:function(){this.$emit("confirm")},handleConfirm:(s=Object(n.a)(regeneratorRuntime.mark((function t(){var e,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1===Number(this.currentTab))return e="object"===Object(o.a)(this.current_time)?l()(this.current_time).format("YYYY-MM-DD HH:mm:ss"):this.current_time,a={time:e,time_zone:+this.current_zone},this.loading=!0,t.next=6,this.$store.dispatch("system/updateTime",a);t.next=13;break;case 6:if(!t.sent){t.next=12;break}this.$message({type:"success",message:this.$t("saved")}),this.loading=!1,this.$emit("confirm"),t.next=13;break;case 12:this.loading=!1;case 13:if(2!==Number(this.currentTab)){t.next=33;break}if(this.time_server){t.next=17;break}return this.$message({type:"error",message:this.$t("enterServerAddress")}),t.abrupt("return");case 17:if(/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/.test(this.time_server)){t.next=22;break}return this.$message({type:"error",message:this.$t("errorServerAddressTips")}),t.abrupt("return");case 22:return s={time_server:this.time_server,auto_update:this.auto_update,now_update:!1},this.loading=!0,t.next=26,this.$store.dispatch("system/immediate",s);case 26:if(!t.sent){t.next=32;break}this.$message({type:"success",message:this.$t("saved")}),this.loading=!1,this.$emit("confirm"),t.next=33;break;case 32:this.loading=!1;case 33:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)}),handleCancel:function(){this.$emit("cancel")},handleClose:function(){this.$emit("cancel")}}},p=(a("2a97"),a("2877")),_=Object(p.a)(d,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"time-setting-box"},[a("div",{staticClass:"content"},[a("el-tabs",{staticStyle:{width:"100%",height:"222px"},attrs:{"tab-position":"top"},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},[a("el-tab-pane",{attrs:{name:"1",label:t.$t("timeOrDate")}},[a("div",{staticClass:"setting-item",staticStyle:{"margin-top":"20px"}},[t._v(t._s(t.$t("selectTime"))+"\n            "),a("el-date-picker",{staticStyle:{margin:"0 15px",width:"200px"},attrs:{type:"datetime",size:"small",clearable:!1,placeholder:t.$t("selectTime")},model:{value:t.current_time,callback:function(e){t.current_time=e},expression:"current_time"}})],1),a("div",{staticClass:"setting-item"},[t._v(t._s(t.$t("selectTimeZoom"))+"\n            "),a("el-select",{attrs:{size:"small",placeholder:t.$t("selectGroupNameTips")},model:{value:t.current_zone,callback:function(e){t.current_zone=e},expression:"current_zone"}},t._l(t.zones,(function(t){return a("el-option",{key:t.label,attrs:{label:t.label,value:t.value}})})),1),a("br"),a("span",{staticStyle:{color:"red",display:"inline-block","margin-top":"8px","margin-left":"70px"}},[t._v(t._s(t.$t("settingSystemTimeTips")))])],1)]),a("el-tab-pane",{attrs:{name:"2",label:t.$t("autoSync")}},[a("div",{staticClass:"ck-box"},[a("el-checkbox",{model:{value:t.auto_update,callback:function(e){t.auto_update=e},expression:"auto_update"}},[t._v(t._s(t.$t("startAutoSync")))])],1),a("div",{staticClass:"server"},[a("span",{staticStyle:{color:"red","margin-left":"10px"}},[t._v("*")]),t._v("\n          "+t._s(t.$t("serverAddress"))+"：\n          "),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",placeholder:t.$t("enterTips")},model:{value:t.time_server,callback:function(e){t.time_server=e},expression:"time_server"}}),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.setServer}},[t._v(t._s(t.$t("syncNow")))])],1),a("div",{staticClass:"last_time"},[t._v("\n          "+t._s(t.$t("lastManualUpdateTime"))+"："),"null"!==t.update_status?a("span",[t._v(t._s(t.last_update_time?t.last_update_time:"")+" "),a("span",{style:{color:t.update_status?"green":"red",marginLeft:"15px"}},[t._v(t._s([t.$t("failed"),t.$t("success")][t.update_status]))])]):a("span",[t._v("-")])])])],1)],1),a("div",{staticClass:"btn"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.handleConfirm}},[t._v(t._s(t.$t("ok")))]),a("el-button",{attrs:{size:"small",type:"default"},on:{click:t.handleClose}},[t._v(t._s(t.$t("cancel")))])],1)])}),[],!1,null,null,null);e.default=_.exports}}]);